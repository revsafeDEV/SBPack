<!DOCTYPE html>
<html lang="pl" class="modern-theme">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>Premium Mody FiveM - SBPack | revsafeDEV</title>
    <meta name="description" content="Odkryj najnowocześniejsze mody FiveM. Premium skrypty, pojazdy, mapy i zasoby dla profesjonalnych serwerów gaming.">
    <meta name="keywords" content="FiveM, mody, skrypty, pojazdy, mapy, GTA V, roleplay, serwer, premium, gaming, ESX, QBCore">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body class="modern-body">
    <!-- Modern Header -->
    <header class="modern-header">
        <div class="header-container">
            <div class="logo-section" ondblclick="showLoginModal()" title="Podwójny klik dla dostępu administratora">
                <div class="logo-icon">
                    <i class="fas fa-code"></i>
                </div>
                <div class="logo-text">
                    <span class="brand-name">SBPack</span>
                    <span class="brand-subtitle">by revsafeDEV</span>
                </div>
            </div>
            
            <nav class="modern-nav">
                <div class="nav-items">
                    <a href="../index.html" class="nav-item nav-home">
                        <div class="nav-icon-container">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="nav-content">
                            <span class="nav-title">Główna</span>
                            <span class="nav-subtitle">Strona startowa</span>
                        </div>
                    </a>
                    <a href="mods.html" class="nav-item active nav-mods">
                        <div class="nav-icon-container">
                            <i class="fas fa-cube"></i>
                        </div>
                        <div class="nav-content">
                            <span class="nav-title">Mody</span>
                            <span class="nav-subtitle">Przeglądaj kolekcję</span>
                        </div>
                    </a>
                    <a href="support-chat.html" class="nav-item nav-chat">
                        <div class="nav-icon-container">
                            <i class="fas fa-headset"></i>
                        </div>
                        <div class="nav-content">
                            <span class="nav-title">Live Support</span>
                            <span class="nav-subtitle">Pomoc 24/7</span>
                        </div>
                    </a>
                </div>
            </nav>
            
            <div class="header-actions">
                <button class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
                <button class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="mobile-menu-toggle">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <div class="admin-header">
            <h2><i class="fas fa-cog"></i> Panel Administracyjny</h2>
            <button class="admin-close" onclick="closeAdminPanel()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="admin-content">
            <div class="admin-section">
                <h3>Dodaj Nowy Mod</h3>
                <form id="addModForm">
                    <div class="form-group">
                        <label>Nazwa Moda:</label>
                        <input type="text" id="modName" required>
                    </div>
                    <div class="form-group">
                        <label>Opis:</label>
                        <textarea id="modDescription" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Cena (PLN):</label>
                        <input type="number" id="modPrice" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label>Kategoria:</label>
                        <select id="modCategory" required>
                            <option value="">Wybierz kategorię</option>
                            <option value="skrypty">Skrypty</option>
                            <option value="pojazdy">Pojazdy</option>
                            <option value="mapy">Mapy</option>
                            <option value="skins">Skiny</option>
                            <option value="inne">Inne</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <select id="modStatus" required>
                            <option value="available">Dostępny</option>
                            <option value="in-development">W budowie</option>
                            <option value="unavailable">Niedostępny</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>URL Obrazka:</label>
                        <input type="url" id="modImage" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label>Link do pobrania/zakupu:</label>
                        <input type="url" id="modDownloadLink" placeholder="https://example.com/download">
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Dodaj Mod
                    </button>
                </form>
            </div>
            <div class="admin-section">
                <h3>Zarządzaj Modami</h3>
                <div id="adminModsList" class="admin-mods-list"></div>
            </div>
        </div>
        
        <!-- Admin Navigation -->
        <div class="admin-nav">
            <button class="admin-nav-btn active" onclick="showAdminSection('mods')">
                <i class="fas fa-gamepad"></i> Mody
            </button>
            <button class="admin-nav-btn" onclick="showAdminSection('admins')">
                <i class="fas fa-users-cog"></i> Administratorzy
            </button>
            <button class="admin-nav-btn" onclick="showAdminSection('support')">
                <i class="fas fa-headset"></i> Support
            </button>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="login-modal" style="display: none;">
        <div class="login-content">
            <h2><i class="fas fa-lock"></i> Logowanie Administratora</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>Hasło:</label>
                    <input type="password" id="adminPassword" placeholder="Wprowadź hasło administratora" required>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Zaloguj
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeLoginModal()">
                    Anuluj
                </button>
            </form>
        </div>
    </div>

    <!-- Modern Mods Section -->
    <section class="modern-mods-section">
        <div class="mods-container">
            <!-- Hero Header -->
            <div class="mods-hero">
                <div class="section-badge">
                    <span class="badge-dot"></span>
                    <span class="badge-text">Premium Collection</span>
                </div>
                
                <h1 class="mods-title">
                    <span class="title-line-1">Profesjonalne</span>
                    <span class="title-line-2">Mody FiveM</span>
                </h1>
                
                <p class="mods-description">
                    Odkryj najnowocześniejszą kolekcję modów FiveM. Każdy skrypt jest 
                    profesjonalnie przygotowany, bezpieczny i zoptymalizowany dla wydajności.
                </p>
                
                <!-- Advanced Search -->
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="modern-search-input" placeholder="Szukaj modów, skryptów, pojazdów..." id="modsSearchInput">
                        <button class="search-clear-btn" id="searchClearBtn">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="search-suggestions" id="searchSuggestions"></div>
                </div>
            </div>
            
            <!-- Modern Filter Buttons -->
            <div class="modern-filter-section">
                <div class="filter-header">
                    <h3 class="filter-title">Kategorie</h3>
                    <span class="filter-count" id="filterCount">Wszystkie mody</span>
                </div>
                
                <div class="modern-filter-buttons">
                    <button class="modern-filter-btn active" data-filter="all">
                        <div class="filter-icon">🎨</div>
                        <span class="filter-text">Wszystkie</span>
                        <span class="filter-badge" data-count="all">0</span>
                    </button>
                    <button class="modern-filter-btn" data-filter="skrypty">
                        <div class="filter-icon">💻</div>
                        <span class="filter-text">Skrypty</span>
                        <span class="filter-badge" data-count="skrypty">0</span>
                    </button>
                    <button class="modern-filter-btn" data-filter="pojazdy">
                        <div class="filter-icon">🏎️</div>
                        <span class="filter-text">Pojazdy</span>
                        <span class="filter-badge" data-count="pojazdy">0</span>
                    </button>
                    <button class="modern-filter-btn" data-filter="mapy">
                        <div class="filter-icon">🗺️</div>
                        <span class="filter-text">Mapy</span>
                        <span class="filter-badge" data-count="mapy">0</span>
                    </button>
                    <button class="modern-filter-btn" data-filter="skins">
                        <div class="filter-icon">👕</div>
                        <span class="filter-text">Skiny</span>
                        <span class="filter-badge" data-count="skins">0</span>
                    </button>
                    <button class="modern-filter-btn" data-filter="free">
                        <div class="filter-icon">🎁</div>
                        <span class="filter-text">Darmowe</span>
                        <span class="filter-badge" data-count="free">0</span>
                    </button>
                </div>
                
                <!-- Sort Options -->
                <div class="sort-options">
                    <select class="modern-select" id="sortSelect">
                        <option value="newest">Najnowsze</option>
                        <option value="popular">Najpopularniejsze</option>
                        <option value="price-low">Cena: od najniższej</option>
                        <option value="price-high">Cena: od najwyższej</option>
                        <option value="rating">Najwyżej oceniane</option>
                    </select>
                </div>
            </div>

            
            <!-- Modern Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">📈</div>
                    <div class="stat-content">
                        <span class="stat-number" id="totalDownloads">5,239</span>
                        <span class="stat-label">Total Downloads</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🎮</div>
                    <div class="stat-content">
                        <span class="stat-number" id="totalMods">48</span>
                        <span class="stat-label">Aktywnych Modów</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🏆</div>
                    <div class="stat-content">
                        <span class="stat-number">4.9/5</span>
                        <span class="stat-label">Średnia Ocena</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">⭐</div>
                    <div class="stat-content">
                        <span class="stat-number">500+</span>
                        <span class="stat-label">Zadowolonych Użytkowników</span>
                    </div>
                </div>
            </div>

            <!-- Modern Mods Grid -->
            <div id="modsGrid" class="modern-mods-grid">
                <!-- Mods will be loaded here by JavaScript -->
            </div>

            <!-- Load More Section -->
            <div class="load-more-section" style="display: none;">
                <button class="load-more-btn">
                    <i class="fas fa-chevron-down"></i>
                    <span>Załaduj więcej modów</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Payment Info Section -->
    <section class="payment-info">
        <div class="container">
            <h2>Bezpieczne płatności</h2>
            <p>Wszystkie płatności są przetwarzane przez PayPal - bezpieczny i zaufany system płatności online.</p>
            <div class="payment-features">
                <div class="payment-feature">
                    <i class="fab fa-paypal"></i>
                    <h3>PayPal</h3>
                    <p>Bezpieczne płatności kartą lub przelewem</p>
                </div>
                <div class="payment-feature">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Ochrona kupującego</h3>
                    <p>Pełna ochrona Twoich transakcji</p>
                </div>
                <div class="payment-feature">
                    <i class="fas fa-download"></i>
                    <h3>Natychmiastowy dostęp</h3>
                    <p>Pobierz mody zaraz po opłaceniu</p>
                </div>
                <div class="payment-feature">
                    <i class="fas fa-headset"></i>
                    <h3>Wsparcie 24/7</h3>
                    <p>Pomoc techniczna w razie problemów</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="logo">
                        <i class="fas fa-gamepad"></i>
                        <span>SBPack</span>
                    </div>
                    <p>Najlepsze mody FiveM od revsafeDEV</p>
                </div>
                <div class="footer-right">
                    <p>&copy; 2025 SBPack by revsafeDEV. Wszystkie prawa zastrzeżone.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Admin Access Button -->
    <div class="admin-access-btn" onclick="showLoginModal()">
        <i class="fas fa-cog"></i>
    </div>

    <script src="../assets/js/script.js"></script>
    <script>
        // Filter functionality - improved version
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for modsManager to be ready
            setTimeout(() => {
                const filterButtons = document.querySelectorAll('.modern-filter-btn, .filter-btn');
                
                filterButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        const filter = this.getAttribute('data-filter');
                        
                        // Remove active class from all buttons
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        // Add active class to clicked button
                        this.classList.add('active');
                        
                        // Filter mods
                        if (typeof modsManager !== 'undefined') {
                            const allMods = modsManager.getAllMods();
                            const filteredMods = filterMods(allMods, filter);
                            renderFilteredMods(filteredMods);
                            updateFilterCounts();
                        }
                    });
                });

                // Update stats and counts on page load
                updateStats();
                updateFilterCounts();
            }, 1000);
        });

        function filterMods(mods, filter) {
            if (filter === 'all') {
                return mods;
            } else if (filter === 'free') {
                return mods.filter(mod => mod.price === 0);
            } else {
                return mods.filter(mod => mod.category === filter);
            }
        }

        function renderFilteredMods(mods) {
            const modsGrid = document.getElementById('modsGrid');
            modsGrid.innerHTML = '';
            
            mods.forEach(mod => {
                const modCard = modsManager.createModCard(mod);
                modsGrid.appendChild(modCard);
            });
        }

        function updateStats() {
            if (typeof modsManager === 'undefined') return;
            
            setTimeout(() => {
                const allMods = modsManager.getAllMods();
                const totalDownloads = allMods.reduce((sum, mod) => sum + mod.downloads, 0);
                
                const totalDownloadsEl = document.getElementById('totalDownloads');
                const totalModsEl = document.getElementById('totalMods');
                
                if (totalDownloadsEl) totalDownloadsEl.textContent = totalDownloads.toLocaleString();
                if (totalModsEl) totalModsEl.textContent = allMods.length;
            }, 500);
        }
        
        function updateFilterCounts() {
            if (typeof modsManager === 'undefined') return;
            
            const allMods = modsManager.getAllMods();
            const categories = ['all', 'skrypty', 'pojazdy', 'mapy', 'skins', 'free'];
            
            categories.forEach(category => {
                const badge = document.querySelector(`[data-count="${category}"]`);
                if (badge) {
                    let count = 0;
                    if (category === 'all') {
                        count = allMods.length;
                    } else if (category === 'free') {
                        count = allMods.filter(mod => mod.price === 0).length;
                    } else {
                        count = allMods.filter(mod => mod.category === category).length;
                    }
                    badge.textContent = count;
                }
            });
        }

        // Enhanced search functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Use existing modern search input if available
            const existingSearchInput = document.getElementById('modsSearchInput');
            let searchInput = existingSearchInput;
            
            // If no modern search input, create fallback
            if (!existingSearchInput) {
                const container = document.querySelector('.modern-mods-section .mods-container, .mods-section .container');
                if (container) {
                    searchInput = document.createElement('input');
                    searchInput.type = 'text';
                    searchInput.placeholder = 'Szukaj modów...';
                    searchInput.className = 'modern-search-input';
                    searchInput.id = 'modsSearchInput';
                    searchInput.style.cssText = `
                        padding: 0.75rem 1rem;
                        border: 2px solid rgba(102, 126, 234, 0.5);
                        border-radius: 25px;
                        background: rgba(255, 255, 255, 0.05);
                        color: #ffffff;
                        font-size: 1rem;
                        margin: 2rem auto;
                        width: 100%;
                        max-width: 400px;
                        display: block;
                        backdrop-filter: blur(10px);
                    `;
                    
                    const description = container.querySelector('.mods-description, .section-description');
                    if (description) {
                        description.insertAdjacentElement('afterend', searchInput);
                    } else {
                        container.insertBefore(searchInput, container.firstChild);
                    }
                }
            }
            
            if (searchInput) {
                // Clear button functionality
                const clearBtn = document.getElementById('searchClearBtn');
                if (clearBtn) {
                    clearBtn.addEventListener('click', () => {
                        searchInput.value = '';
                        performSearch('');
                    });
                }
                
                searchInput.addEventListener('input', (e) => {
                    performSearch(e.target.value);
                });
            }
        });
        
        function performSearch(searchTerm) {
            const term = searchTerm.toLowerCase();
            const modCards = document.querySelectorAll('.mod-card');
            let visibleCount = 0;
            
            modCards.forEach(card => {
                const titleElement = card.querySelector('h3');
                const descriptionElement = card.querySelector('p');
                
                if (!titleElement || !descriptionElement) return;
                
                const title = titleElement.textContent.toLowerCase();
                const description = descriptionElement.textContent.toLowerCase();
                
                if (!term || title.includes(term) || description.includes(term)) {
                    card.style.display = 'block';
                    card.style.animation = 'fadeInUp 0.3s ease-out';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Update filter count
            const filterCount = document.getElementById('filterCount');
            if (filterCount) {
                if (term) {
                    filterCount.textContent = `${visibleCount} wyników dla "${searchTerm}"`;
                } else {
                    filterCount.textContent = 'Wszystkie mody';
                }
            }
        }

        // Custom styles for mods page
        const customStyles = `
            .mods-section {
                padding: 120px 0 80px;
            }

            .mods-section h1 {
                font-size: 3rem;
                text-align: center;
                margin-bottom: 1rem;
                background: var(--gradient);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .section-description {
                text-align: center;
                font-size: 1.2rem;
                color: var(--text-light);
                max-width: 800px;
                margin: 0 auto 3rem;
                line-height: 1.6;
            }

            .filter-buttons {
                display: flex;
                justify-content: center;
                gap: 1rem;
                margin-bottom: 3rem;
                flex-wrap: wrap;
            }

            .filter-btn {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.75rem 1.5rem;
                background: var(--card-bg);
                color: var(--text-light);
                border: 2px solid transparent;
                border-radius: 25px;
                cursor: pointer;
                transition: var(--transition);
                font-weight: 500;
                text-decoration: none;
            }

            .filter-btn:hover,
            .filter-btn.active {
                background: var(--primary-color);
                color: var(--text-white);
                transform: translateY(-2px);
                box-shadow: var(--shadow);
            }

            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 2rem;
                margin-bottom: 4rem;
            }

            .stat-card {
                background: var(--card-bg);
                padding: 2rem;
                border-radius: var(--border-radius-lg);
                text-align: center;
                border: 1px solid var(--border-color);
                transition: var(--transition);
            }

            .stat-card:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow);
            }

            .stat-card i {
                font-size: 2.5rem;
                color: var(--primary-color);
                margin-bottom: 1rem;
            }

            .stat-number {
                font-size: 2.5rem;
                font-weight: 700;
                color: var(--text-primary);
                margin-bottom: 0.5rem;
            }

            .stat-label {
                color: var(--text-light);
                font-size: 1.1rem;
            }

            .payment-info {
                background: var(--darker-bg);
                padding: 80px 0;
            }

            .payment-info h2 {
                text-align: center;
                font-size: 2.5rem;
                margin-bottom: 1rem;
                color: var(--text-primary);
            }

            .payment-info > .container > p {
                text-align: center;
                font-size: 1.2rem;
                color: var(--text-light);
                margin-bottom: 3rem;
            }

            .payment-features {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 2rem;
            }

            .payment-feature {
                text-align: center;
                padding: 2rem;
            }

            .payment-feature i {
                font-size: 3rem;
                color: var(--primary-color);
                margin-bottom: 1rem;
            }

            .payment-feature h3 {
                font-size: 1.5rem;
                margin-bottom: 1rem;
                color: var(--text-primary);
            }

            .payment-feature p {
                color: var(--text-light);
            }

            .load-more-container {
                text-align: center;
                margin-top: 3rem;
            }

            @media (max-width: 768px) {
                .mods-section h1 {
                    font-size: 2rem;
                }
                
                .filter-buttons {
                    gap: 0.5rem;
                }
                
                .filter-btn {
                    padding: 0.5rem 1rem;
                    font-size: 0.9rem;
                }
                
                .stats-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1rem;
                }
                
                .stat-card {
                    padding: 1.5rem;
                }
                
                .stat-number {
                    font-size: 2rem;
                }
            }
        `;

        // Add custom styles to page
        const styleSheet = document.createElement('style');
        styleSheet.textContent = customStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>
